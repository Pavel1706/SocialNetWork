{"version":3,"sources":["Redux/messageReducer.tsx","components/Nav/Nav.module.css","API/Api.ts","components/Nav/Nav.tsx","components/Friends/Friends.tsx","components/Header/Header.tsx","Redux/authReducer.tsx","components/Header/HeaderContainer.tsx","utils/helper/object-helpers.ts","Redux/usersReducer.tsx","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","Redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/LoginComponent/Login.tsx","Redux/appReducer.tsx","Redux/dialogsReducer.tsx","Redux/reduxStore.tsx","Hoc/withSuspense.tsx","App.tsx","index.tsx","components/common/FormsControls/FormControls.module.css","assets/images/1488.gif","components/common/Preloader/Preloader.tsx","components/common/Paginator/Paginator.module.css","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.tsx","components/Header/Header.module.css","components/LoginComponent/Login.module.css","components/Users/users.module.css","components/Friends/Friend/friends.module.css","Redux/profileReducer.tsx"],"names":["initialState","messageData","id","message","newMessage","messageReducer","state","action","type","newPost","Date","getTime","title","addNewMessageAC","module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","responce","data","follow","userId","post","unFollow","delete","AuthMeAPI","getAuth","loginIn","email","password","rememberMe","captcha","loginOut","getCaptcha","profileAPI","getProfile","getStatus","updateStatus","status","put","Nav","fotka","useSelector","dialogsPage","dialogs","map","t","className","style","avatar","src","foto","nav","sentence","active","to","activeClassName","activeLink","Friends","alt","name","Header","header","loginBlock","isAuth","login","LogOut","onClick","logout","Login","setUserDataAC","getCaptchaAC","getAuthTC","dispatch","a","response","resultCode","LoginOutTC","WithUrlDataContainerComponent","withRouter","props","useDispatch","useEffect","connect","auth","setUserData","getLogin","updateObjectInArray","itemId","objPropName","newObjProps","users","totalUsersCount","isFetching","followingInProgress","followAC","unFollowAC","setUsersAC","setCurrentPageAC","setUsersTotalCountAC","totalCount","setToggleIsFetchingAC","loading","setToggleIsFollowingAC","following","followUnfollowFlow","apiMethod","actionCreator","Paginator","pagesCount","Math","ceil","pages","i","push","portionSize","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionPageNumber","styles","paginator","arrowLeft","filter","p","cn","selectedPage","pageNumber","e","onPageChanged","arrowRight","User","user","photos","small","photo","followed","Follow","disabled","some","setToggleIsFollowing","unFollowUserTC","followUserTC","Users","usersState","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","getIsFetching","UsersContainer","getUsersThunkCreator","this","Preloader","setUsers","setCurrent","setTotalUsersCount","setToggleIsFetching","React","Component","compose","page","items","bind","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","form","url","onSubmit","handleSubmit","Field","input","placeholder","validate","requiredField","component","Input","error","formSummaryError","logIn","LoginTC","messages","length","stopSubmit","_error","formData","initialized","rootReducer","combineReducers","profilePage","profileReducer","messagePage","app","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","withSuspense","Suspense","fallback","Conversation","lazy","default","ProfileContainer","AppContainer","promise","Promise","all","path","render","SamuraiJSApp","basename","process","ReactDOM","document","getElementById","preloader","Textarea","meta","hasError","touched","formControl","value","maxLength","posts","like","profile","lookingForAJob","lookingForAJobDescription","fullName","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","large","addPostAC","setStatusAC","setProfileTC","getProfileStatusTC","updateStatusTC"],"mappings":"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","file":"static/js/main.c8c7cd99.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nlet initialState: InitialStateMessageType = {\r\n    messageData: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'What`s going on?'},\r\n        {id: 3, message: 'How`re you things'},\r\n        {id: 4, message: 'How`s life?'},\r\n        {id: 5, message: 'I got it!'},\r\n        {id: 6, message: 'Catch you around!'},\r\n    ] as Array<MessageType>,\r\n    newMessage: ''\r\n}\r\nexport type InitialStateMessageType = {\r\n    messageData: Array<MessageType>\r\n    newMessage: string\r\n}\r\ntype MessageType = {\r\n    id: number\r\n    message: string\r\n\r\n}\r\n\r\n\r\nexport const messageReducer = (state: InitialStateMessageType = initialState, action: NewMessageActionType): InitialStateMessageType => {\r\n    switch (action.type) {\r\n        case \"ADD-NEW-MESSAGE\":\r\n            let newPost: MessageType = {\r\n                id: new Date().getTime(),\r\n                message: action.title\r\n            }\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData, newPost],\r\n\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addNewMessageAC = (title:string) => {\r\n    return {\r\n        type: 'ADD-NEW-MESSAGE',\r\n        title:title,\r\n    } as const\r\n}\r\n\r\nexport type NewMessageActionType =  AddNewMessageType\r\ntype AddNewMessageType = ReturnType<typeof addNewMessageAC>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1xJ4k\",\"sentence\":\"Nav_sentence__PW7ou\",\"activeLink\":\"Nav_activeLink__lkr83\",\"avatar\":\"Nav_avatar__GKI-K\"};","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'fae6bcdf-1b7b-4b5f-8f9c-eecd7cb26aa8',\r\n    }\r\n})\r\n\r\n\r\n export const usersAPI = {\r\n\r\n     getUsers(currentPage: number, pageSize: number)  {\r\n\r\n         return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n             .then(responce => responce.data)\r\n     },\r\n     follow(userId:number){\r\n         return instance.post(`follow/${userId}`, {}\r\n         )\r\n     },\r\n     unFollow(userId:number){\r\n        return instance.delete(`follow/${userId}`)\r\n     }\r\n }\r\n\r\n export const AuthMeAPI = {\r\n     getAuth() {\r\n         return instance.get(`auth/me`);\r\n     },\r\n\r\n     loginIn(email:string,password:string, rememberMe:boolean,captcha:boolean){\r\n         return instance.post(`auth/login`, {email,password,rememberMe,captcha:true});\r\n     },\r\n     loginOut(){\r\n\r\n         return instance.delete(`auth/login`,)\r\n     },\r\n     getCaptcha(){\r\n         return instance.get(`/security/get-captcha-url`)\r\n     }\r\n }\r\nexport const profileAPI = {\r\n    getProfile(userId:string) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId:string){\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status:string){\r\n        return instance.put(`profile/status/`, {status:status})\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport style from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {ConversationType} from \"../../Redux/dialogsReducer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\n\r\n\r\nexport const Nav = () => {\r\n    let dialogsPage = useSelector<AppStateType,ConversationType[]>(state => state.dialogsPage.dialogs)\r\n\r\n    let fotka = dialogsPage.map(t=> <img key={t.id} className={style.avatar} src={t.foto}/>)\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={`${style.sentence} ${style.active}`}>\r\n                <NavLink to=\"/profile\" activeClassName={style.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={style.sentence}>\r\n                <NavLink to=\"/conversation\" activeClassName={style.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={style.sentence}>\r\n                <NavLink to=\"/news\" activeClassName={style.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={style.sentence}>\r\n                <NavLink to=\"/music\" activeClassName={style.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={style.sentence}>\r\n                <NavLink to=\"/settings\" activeClassName={style.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={style.sentence}>\r\n                <NavLink to=\"/users\" activeClassName={style.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={style.sentence}>\r\n                <NavLink to=\"/Friends\" className={style.avatar}>Friends</NavLink>\r\n                <div>{fotka}</div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport style from './Friend/friends.module.css'\r\nimport {ConversationType} from \"../../Redux/dialogsReducer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\n\r\n\r\n\r\nexport const Friends =()=>{\r\n    let dialogsPage = useSelector<AppStateType,ConversationType[]>(state => state.dialogsPage.dialogs)\r\n    return(\r\n        <span className={style.avatar} >\r\n\r\n            {dialogsPage.map(t=>  <div key={t.id}> <img alt={'foto'} className={style.avatar} src={t.foto} />{t.name}</div> )}\r\n\r\n        </span>\r\n\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './Header.module.css';\r\nimport {DataType} from \"./HeaderContainer\";\r\n\r\n\r\n\r\ntype LoginType = {\r\n    data: DataType\r\n    isAuth: boolean\r\n    logout: ()=> void\r\n\r\n}\r\n\r\n\r\nexport const Header = (data: LoginType) => {\r\n\r\n\r\n\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <img alt={'this is photo'}\r\n                 src='data:image/jpeg;base64,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'/>\r\n\r\n            <div className={style.loginBlock}>\r\n                {data.isAuth\r\n                    ?<div>{ data.data.login} - <button className={style.LogOut} onClick={data.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'} className={style.Login}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {AppThunk} from \"./reduxStore\";\r\nimport {AuthMeAPI} from \"../API/Api\";\r\nimport {Dispatch} from 'redux';\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n//sdfsklfjkslfjkls\r\n\r\nlet initialState: InitialStateType = {\r\n    data:\r\n        {\r\n            id: 19583,\r\n            email: 'pasha17061987@gmail.com',\r\n            login: 'Pavel1787',\r\n            isAuth: true\r\n        },\r\n    isAuth: true,\r\n    captcha:'',\r\n}\r\n\r\n//ffjsfs\r\n\r\n//test comment\r\ntype DataType = {\r\n    id:  number\r\n    email:  string\r\n    login: string\r\n    isAuth: boolean\r\n}\r\n\r\nexport type InitialStateType = {\r\n    data: DataType\r\n    isAuth: boolean\r\n    captcha: string\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: LoginActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET-USER-DATA\": {\r\n\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: action.data.isAuth,\r\n\r\n            }\r\n        }\r\n        case \"GET-CAPTCHA\": {\r\n\r\n            return {\r\n                ...state,\r\n                captcha: action.captcha\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setUserDataAC = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: 'SET-USER-DATA',\r\n        data: {id, email, login, isAuth}\r\n    } as const\r\n}\r\nconst getCaptchaAC=(captcha:string)=>{\r\n    return {\r\n        type: 'GET-CAPTCHA',\r\n        captcha: captcha\r\n    } as const\r\n}\r\n\r\n\r\nexport const getAuthTC = ():AppThunk=> async(dispatch) => {\r\n  let response=  await AuthMeAPI.getAuth()\r\n        if (response.data.resultCode === 0) {\r\n            let {id, email, login} = response.data.data\r\n            dispatch(setUserDataAC(id, email, login, true))\r\n        }\r\n\r\n}\r\nexport const LoginTC = (email: string, password: string, rememberMe: boolean,captcha:boolean): AppThunk =>{\r\n    return async (dispatch) => {\r\n        let response = await AuthMeAPI.loginIn(email, password, rememberMe, captcha)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthTC())\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n    }\r\n}\r\n\r\n\r\n export const getCaptchaTC=()=> async(dispatch:Dispatch)=> {\r\n    let response= await AuthMeAPI.getCaptcha()\r\n         let captcha = response.data.url\r\n         dispatch(getCaptchaAC(captcha))\r\n\r\n }\r\n\r\nexport const LoginOutTC = (): AppThunk =>{\r\n    return async (dispatch) => {\r\n       let response = await AuthMeAPI.loginOut()\r\n       if (response.data.resultCode === 0) {\r\n           dispatch(setUserDataAC(null, null, null, false))\r\n       }\r\n   }\r\n    }\r\n\r\n\r\ntype setUserDataACType = ReturnType<typeof setUserDataAC>\r\ntype getCaptchaACType = ReturnType<typeof getCaptchaAC>\r\n\r\nexport type LoginActionsType = setUserDataACType | getCaptchaACType\r\n","import React, {useEffect} from 'react';\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {Header} from \"./Header\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\nimport {connect, useDispatch} from 'react-redux';\r\nimport {getAuthTC, LoginOutTC, setUserDataAC} from \"../../Redux/authReducer\";\r\n\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\n\r\nexport type DataType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n}\r\ntype MapStatePropsType = {\r\n    data: {\r\n        id: number\r\n        email: string\r\n        login: string\r\n    }\r\n    isAuth: boolean\r\n\r\n}\r\ntype MapDispatchPropsType = {\r\n    setUserData: (id: number | null, email: string | null, login: string | null, isAuth: boolean) => void\r\n\r\n}\r\n\r\ntype UsersStateType = MapStatePropsType & MapDispatchPropsType\r\ntype PropsType = RouteComponentProps<PathParamsType> & UsersStateType\r\n\r\nfunction HeaderContainer(props: PropsType) {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(getAuthTC())\r\n    }, [])\r\n\r\n    const logOut = () => {\r\n        dispatch(LoginOutTC())\r\n    }\r\n\r\n    return (\r\n        <Header data={props.data} isAuth={props.isAuth} logout={logOut}/>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    data: state.auth.data,\r\n    isAuth: state.auth.isAuth\r\n\r\n})\r\n\r\nlet WithUrlDataContainerComponent = withRouter(HeaderContainer)\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    setUserData: setUserDataAC,\r\n    getLogin: getAuthTC,\r\n    logout: LoginOutTC\r\n})(WithUrlDataContainerComponent)\r\n","import {InitialStateType, UserType} from \"../../Redux/usersReducer\";\r\n\r\nexport const updateObjectInArray = (state:InitialStateType, itemId:any, objPropName:any, newObjProps:any)=>{\r\n    debugger\r\n   return state.users.map(t => {\r\n           if (t['id'] === itemId) {\r\n               return {...t, ...newObjProps}\r\n           }\r\n           return t;\r\n       })\r\n\r\n}","import React from 'react';\r\nimport {usersAPI} from \"../API/Api\";\r\nimport {AppThunk} from \"./reduxStore\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../utils/helper/object-helpers\";\r\n\r\n\r\nlet initialState: InitialStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nexport type UserType = {\r\n    id: number;\r\n    name: string;\r\n    status?: string;\r\n    photos: {\r\n        small?: string;\r\n        large?: string;\r\n    }\r\n    followed: boolean\r\n}\r\n\r\nexport type InitialStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action: UsersActionsType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            debugger\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state, action.userId,'id', {followed: true})\r\n                // users: state.users.map(t => {\r\n                //     if (t.id === action.userId) {\r\n                //         return {...t, followed: true}\r\n                //     }\r\n                //     return t;\r\n                // })\r\n            }\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state, action.userId,'id', {followed: false})\r\n                // users: state.users.map(t => {\r\n                //     if (t.id === action.userId) {\r\n                //         return {...t, followed: false}\r\n                //     }\r\n                //     return t;\r\n                // })\r\n            }\r\n        case \"SET-USERS\":\r\n            return {...state, users: action.users}\r\n        case 'SET-CURRENT-PAGE':\r\n            return {...state, currentPage: action.currentPage}\r\n        case 'SET-TOTAL-COUNT':\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case 'SET-TOGGlE-IS-FETCHING':\r\n            return {...state, isFetching: action.loading}\r\n        case 'SET-TOGGlE-IS-FOLLOWING': {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.following\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followAC = (userId: number) => {\r\n    return {\r\n        type: \"FOLLOW\",\r\n        userId: userId\r\n    } as const\r\n}\r\n\r\nexport const unFollowAC = (userId: number) => {\r\n    return {\r\n        type: \"UNFOLLOW\",\r\n        userId: userId\r\n    } as const\r\n}\r\nexport const setUsersAC = (users: Array<UserType>) => {\r\n    return {\r\n        type: \"SET-USERS\",\r\n        users: users\r\n    } as const\r\n}\r\nexport const setCurrentPageAC = (currentPage: number) => {\r\n    return {\r\n        type: 'SET-CURRENT-PAGE',\r\n        currentPage: currentPage\r\n    } as const\r\n}\r\nexport const setUsersTotalCountAC = (totalCount: number) => {\r\n    return {\r\n        type: 'SET-TOTAL-COUNT',\r\n        totalCount: totalCount\r\n    } as const\r\n}\r\nexport const setToggleIsFetchingAC = (loading: boolean) => {\r\n    return {\r\n        type: 'SET-TOGGlE-IS-FETCHING',\r\n        loading: loading\r\n    } as const\r\n}\r\nexport const setToggleIsFollowingAC = (following: boolean, userId: number) => {\r\n    return {\r\n        type: 'SET-TOGGlE-IS-FOLLOWING',\r\n        following: following,\r\n        userId: userId,\r\n    } as const\r\n}\r\n\r\ntype setToggleIsFetchingACType = ReturnType<typeof setToggleIsFetchingAC>\r\ntype setToggleIsFollowingACType = ReturnType<typeof setToggleIsFollowingAC>\r\ntype setUsersTotalCountType = ReturnType<typeof setUsersTotalCountAC>\r\ntype SetCurrentPageType = ReturnType<typeof setCurrentPageAC>\r\ntype ChangeUserFollowType = ReturnType<typeof followAC>\r\ntype ChangeUserUnFollowType = ReturnType<typeof unFollowAC>\r\ntype SetUsersType = ReturnType<typeof setUsersAC>\r\n\r\n\r\nexport type UsersActionsType = ChangeUserFollowType | ChangeUserUnFollowType\r\n    | SetUsersType | SetCurrentPageType | setUsersTotalCountType | setToggleIsFetchingACType\r\n    | setToggleIsFollowingACType\r\n\r\n\r\n// type ThunkType = ThunkAction<void, AppStateType, unknown, TodoActionType>\r\n//\r\n// const getTodolists = ():ThunkType  => {\r\n//     return (dispatch, getState: ()=> AppStateType) => {\r\n//         api.getTodolists()\r\n//             .then(res => {тема\r\n//                 dispatch(getTodolistsSuccess(res.data));\r\n//             })\r\n//     };\r\n// };\r\nexport const getUsersTC = (page: number,pageSize:number): AppThunk =>{\r\n   return async (dispatch) => {\r\n       dispatch(setToggleIsFetchingAC(true))\r\n       dispatch(setCurrentPageAC(page))\r\n       let data = await usersAPI.getUsers(page, pageSize)\r\n       dispatch(setToggleIsFetchingAC(false))\r\n       dispatch(setUsersAC(data.items))\r\n       dispatch(setUsersTotalCountAC(data.totalCount))\r\n   }\r\n}\r\n\r\nconst followUnfollowFlow= async(dispatch: Dispatch, userId:number, apiMethod:any, actionCreator:any)=>{\r\n    dispatch(setToggleIsFollowingAC(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(setToggleIsFollowingAC(false, userId))\r\n}\r\n\r\nexport const followUserTC = (userId: number):AppThunk =>{\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI)\r\n        let actionCreator= followAC\r\n        followUnfollowFlow(dispatch,userId,apiMethod,actionCreator)\r\n    }\r\n}\r\n\r\nexport const unFollowUserTC = (userId: number):AppThunk =>{\r\n   return async(dispatch) => {\r\n       let apiMethod = usersAPI.unFollow.bind(usersAPI)\r\n       let actionCreator= unFollowAC\r\n       followUnfollowFlow(dispatch,userId,apiMethod,actionCreator)\r\n   }\r\n}\r\n\r\n\r\n\r\n\r\n// export const getUsersThunkCreator = (currentPage: number,pageSize:number) => {\r\n//     return (dispatch: Dispatch<UsersActionsType>) => {\r\n//         dispatch(setToggleIsFetchingAC(true))\r\n//         usersAPI.getUsers(currentPage, pageSize)\r\n//             .then(data => {\r\n//                 dispatch(setToggleIsFetchingAC(false))\r\n//                 dispatch(setUsersAC(data.items))\r\n//                 dispatch(setUsersTotalCountAC(data.totalCount))\r\n//             })\r\n//     }\r\n// }\r\n\r\n","import React, {useState} from 'react';\r\nimport styles from \"../../common/Paginator/Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\n\r\ntype PaginatorType = {\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    onPageChanged: (value: number) => void\r\n    portionSize: number\r\n\r\n}\r\n\r\nexport let Paginator = (props: PaginatorType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionSize = props.portionSize\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button className={styles.arrowLeft} onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}></button>}\r\n        {pages.filter(p => p >= leftPortionNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: props.currentPage === p\r\n                }, styles.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button className={styles.arrowRight} onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}></button>}\r\n    </div>\r\n\r\n}\r\n","import React from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport {UserType} from \"../../Redux/usersReducer\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\ntype SingleUserType = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    setToggleIsFollowing: (value: boolean, userId:number) => void\r\n    followUserTC:(userId:number)=> void\r\n    unFollowUserTC:(userId:number)=> void\r\n\r\n}\r\n\r\n\r\nexport let User = (props:SingleUserType) => {\r\n    let user = props.user\r\n    return <div>\r\n           <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img\r\n                            src={user.photos.small != null ? user.photos.small : 'https://i.pinimg.com/736x/9b/80/f0/9b80f06c91e4c03c63059d35ff943168.jpg'}\r\n                            className={styles.photo}/>\r\n                            </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            user.followed\r\n                                ?\r\n                                <button className={styles.Follow} disabled={props.followingInProgress.some(id=>id===user.id)} onClick={() => {\r\n\r\n                                    props.setToggleIsFollowing(true,user.id)\r\n                                      props.unFollowUserTC(user.id)\r\n\r\n\r\n                                }}>UnFollow</button>\r\n                                :\r\n                                <button className={styles.Follow} disabled={props.followingInProgress.some(id=>id===user.id)} onClick={() => {\r\n\r\n                                    props.setToggleIsFollowing(true,user.id)\r\n                                    props.followUserTC(user.id)\r\n\r\n                                }}>Follow</button>\r\n\r\n                        }\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                </span>\r\n\r\n    </div>\r\n}\r\n","import React from 'react';\r\nimport {UserType} from \"../../Redux/usersReducer\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\n\r\ntype UsersStateType = {\r\n    usersState: Array<UserType>\r\n    setUsers: (users: Array<UserType>) => void;\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    setCurrent: (value: number) => void\r\n    setTotalUsersCount: (value: number) => void\r\n    onPageChanged: (value: number) => void\r\n    setToggleIsFetching: (value: boolean) => void\r\n    setToggleIsFollowing: (value: boolean, userId:number) => void\r\n    followingInProgress: Array<number>\r\n    followUserTC:(userId:number)=> void\r\n    unFollowUserTC:(userId:number)=> void\r\n\r\n}\r\n\r\n\r\nexport let Users = (props: UsersStateType) => {\r\n\r\n    return <div>\r\n\r\n\r\n        {\r\n            props.usersState.map(t =>  <User key={t.id}\r\n                                                user={t}\r\n                                             followingInProgress={props.followingInProgress}\r\n                                             setToggleIsFollowing={props.setToggleIsFollowing}\r\n                                             followUserTC={props.followUserTC}\r\n                                             unFollowUserTC={props.unFollowUserTC}   />)\r\n\r\n                // <span>\r\n                //     <div>\r\n                //         <NavLink to={'/profile/' + t.id}>\r\n                //         <img\r\n                //             src={t.photos.small != null ? t.photos.small : 'https://i.pinimg.com/736x/9b/80/f0/9b80f06c91e4c03c63059d35ff943168.jpg'}\r\n                //             className={styles.photo}/>\r\n                //             </NavLink>\r\n                //     </div>\r\n                //     <div>\r\n                //         {\r\n                //             t.followed\r\n                //                 ?\r\n                //                 <button disabled={props.followingInProgress.some(id=>id===t.id)} onClick={() => {\r\n                //\r\n                //                     props.setToggleIsFollowing(true,t.id)\r\n                //                       props.unFollowUserTC(t.id)\r\n                //\r\n                //\r\n                //                 }}>UnFollow</button>\r\n                //                 :\r\n                //                 <button disabled={props.followingInProgress.some(id=>id===t.id)} onClick={() => {\r\n                //\r\n                //                     props.setToggleIsFollowing(true,t.id)\r\n                //                     props.followUserTC(t.id)\r\n                //\r\n                //                 }}>Follow</button>\r\n                //\r\n                //         }\r\n                //     </div>\r\n                // </span>\r\n                // <span>\r\n                //     <span>\r\n                //         <div>{t.name}</div>\r\n                //         <div>{t.status}</div>\r\n                //     </span>\r\n                // </span>\r\n\r\n        }\r\n        <Paginator pageSize={props.pageSize}\r\n                   totalUsersCount={props.totalUsersCount}\r\n                   currentPage={props.currentPage}\r\n                   onPageChanged={props.onPageChanged}\r\n                   portionSize={10}/>\r\n    </div>\r\n}\r\n","import { createSelector } from \"reselect\";\r\nimport {AppStateType} from \"./reduxStore\";\r\nimport {UserType} from \"./usersReducer\";\r\n\r\n\r\n// export const getUsersSelector = (state: AppStateType) => {\r\n//     return getUsers(state).filter(t=>true)\r\n// }\r\n\r\n const getUsersSelector = (state: AppStateType) => {\r\n\r\n     return state.users.users\r\n }\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n\r\n    (users:Array<UserType>)=>{\r\n\r\n        return users.filter(t=>true)\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.users.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.users.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.users.currentPage\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.users.followingInProgress\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.users.isFetching\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    followAC, followUserTC, getUsersTC,\r\n    setCurrentPageAC, setToggleIsFetchingAC, setToggleIsFollowingAC,\r\n    setUsersAC,\r\n    setUsersTotalCountAC,\r\n    unFollowAC, unFollowUserTC,\r\n    UsersActionsType,\r\n    UserType\r\n} from '../../Redux/usersReducer';\r\nimport {AppStateType} from '../../Redux/reduxStore';\r\nimport {Users} from './Users';\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {compose} from 'redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers,\r\n} from \"../../Redux/users-selectors\";\r\n\r\nexport type UsersStateType = {\r\n    usersState: Array<UserType>\r\n    setUsers: (users: Array<UserType>) => void;\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    setCurrent: (value: number) => void\r\n    setTotalUsersCount: (value: number) => void\r\n    isFetching: boolean\r\n    setToggleIsFetching: (value: boolean) => void\r\n    setToggleIsFollowing: (value: boolean, userId: number) => void\r\n    followingInProgress: Array<number>\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n    followUserTC: (userId: number) => void\r\n    unFollowUserTC: (userId: number) => void\r\n}\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersStateType, {}> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize}=this.props\r\n        this.props.getUsersThunkCreator(currentPage, pageSize)\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n            const {pageSize}=this.props\r\n        this.props.getUsersThunkCreator(pageNumber, pageSize)\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n\r\n        return <>\r\n            <Preloader loading={this.props.isFetching}/>\r\n            <Users onPageChanged={this.onPageChanged}\r\n                   setUsers={this.props.setUsers}\r\n                   currentPage={this.props.currentPage}\r\n                   setCurrent={this.props.setCurrent}\r\n                   setTotalUsersCount={this.props.setTotalUsersCount}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   usersState={this.props.usersState}\r\n                   pageSize={this.props.pageSize}\r\n                   setToggleIsFetching={this.props.setToggleIsFetching}\r\n                   setToggleIsFollowing={this.props.setToggleIsFollowing}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   followUserTC={this.props.followUserTC}\r\n                   unFollowUserTC={this.props.unFollowUserTC}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n// const mapStateToProps = (state: AppStateType) => {\r\n//     return {\r\n//         usersState: state.users.users,\r\n//         pageSize: state.users.pageSize,\r\n//         totalUsersCount: state.users.totalUsersCount,\r\n//         currentPage: state.users.currentPage,\r\n//         isFetching: state.users.isFetching,\r\n//         followingInProgress: state.users.followingInProgress,\r\n//     }\r\n// }\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        usersState: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: (action: UsersActionsType) => void) => {\r\n    return {\r\n        followUser: (userId: number) => {\r\n            dispatch(followAC(userId))\r\n        },\r\n        unfollowUser: (userId: number) => {\r\n            dispatch(unFollowAC(userId))\r\n        },\r\n        setUsers: (users: Array<UserType>) => {\r\n            dispatch(setUsersAC(users))\r\n        },\r\n        setCurrent: (currentPage: number) => {\r\n            dispatch(setCurrentPageAC(currentPage))\r\n        },\r\n        setTotalUsersCount: (totalCount: number) => {\r\n            dispatch(setUsersTotalCountAC(totalCount))\r\n        },\r\n        setToggleIsFetching: (loading: boolean) => {\r\n            dispatch(setToggleIsFetchingAC(loading))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        setUsers: setUsersAC,\r\n        setCurrent: setCurrentPageAC,\r\n        setTotalUsersCount: setUsersTotalCountAC,\r\n        setToggleIsFetching: setToggleIsFetchingAC,\r\n        setToggleIsFollowing: setToggleIsFollowingAC,\r\n        getUsersThunkCreator: getUsersTC,\r\n        followUserTC: followUserTC,\r\n        unFollowUserTC: unFollowUserTC,\r\n    }),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(UsersContainer)\r\n","import React, { useEffect } from 'react';\r\nimport {Field, InjectedFormProps, reduxForm}  from 'redux-form';\r\nimport { Input} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport {getCaptchaTC, LoginTC} from \"../../Redux/authReducer\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\nimport {Captcha} from \"./Captcha\";\r\nimport style from './Login.module.css'\r\nimport styles from '../common/FormsControls/FormControls.module.css'\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha:boolean\r\n}\r\n\r\ntype MapStatePropsType={\r\n    isAuth: boolean\r\n    captcha:string\r\n}\r\n\r\ntype  MapDispatchPropsType={\r\n    LoginTC: (email: string, password: string, rememberMe: boolean,captcha:boolean)=> void\r\n\r\n}\r\n\r\ntype AllType= MapStatePropsType & MapDispatchPropsType\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> =\r\n    (props) => {\r\n    const dispatch=useDispatch()\r\n    useEffect(()=>{\r\n        dispatch(getCaptchaTC())\r\n    },[])\r\n\r\n\r\n        return (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div >\r\n                    {/*{CreateField('Email', 'email', [requiredField,maxLength30],Input)}*/}\r\n                    <Field className={style.input} placeholder={'Email'} name={'email'}\r\n                           validate={[requiredField,maxLength30 ]}\r\n                           component={Input}/>\r\n                </div>\r\n                <div>\r\n                    <Field className={style.input} placeholder={'Password'} type={'password'} name={'password'} component={Input}\r\n                           validate={[requiredField,maxLength30 ]}\r\n                    />\r\n\r\n                    <Field className={style.input} placeholder={'Captcha'} name={'captcha'} component={Input}\r\n                           validate={[requiredField,maxLength30 ]}\r\n                    />\r\n\r\n                </div>\r\n                <div>\r\n                    <Field type={'checkbox'} name={'rememberMe'} component={Input}/> remember me\r\n                </div>\r\n                {props.error? <div className={styles.formSummaryError}>\r\n                    {props.error}\r\n                </div>:''}\r\n                <div>\r\n                    <button className={style.logIn} type=\"submit\">Login</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\n const Login = (props:AllType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.LoginTC(formData.email,formData.password,formData.rememberMe,formData.captcha)\r\n    }\r\n\r\n\r\n    if(props.isAuth){\r\n\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n\r\n            <img src={props.captcha}/>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps=(state:AppStateType): MapStatePropsType=>({\r\n    isAuth: state.auth.isAuth,\r\n    captcha:state.auth.captcha\r\n})\r\n\r\nexport default connect(mapStateToProps, {LoginTC,})(Login)","import React from 'react';\r\nimport {AppThunk} from \"./reduxStore\";\r\nimport {getAuthTC} from \"./authReducer\";\r\n\r\n\r\nlet initialState: InitialStateType = {\r\n    initialized: true,\r\n\r\n}\r\n\r\n\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean,\r\n\r\n\r\n}\r\n\r\nexport const appReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SET-INITIALIZED': {\r\n\r\n            return {\r\n                ...state,\r\n                initialized:true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const intializedSuccess = () =>  ({type: 'SET-INITIALIZED'} as const)\r\n\r\n\r\n\r\nexport const initializeTC = ():AppThunk =>  (dispatch) => {\r\n    let promise = dispatch(getAuthTC())\r\n        Promise.all([promise])\r\n            .then(()=>{\r\n       dispatch(intializedSuccess())\r\n   })\r\n        }\r\n\r\n\r\ntype setInitializedACType = ReturnType<typeof intializedSuccess>\r\n\r\n\r\nexport  type ActionsType = setInitializedACType\r\n","import React from 'react';\r\n\r\n\r\n\r\nexport type ConversationType = {\r\n    id: number\r\n    name: string\r\n    foto: string\r\n}\r\n\r\nlet initialState= {\r\n    dialogs: [\r\n        {id: 1, name: 'Pavel', foto: 'https://bipbap.ru/wp-content/uploads/2016/03/1529534028_ekau52fsukj.jpg'},\r\n        {id: 2, name: 'Alex', foto: 'https://cdn1.flamp.ru/4f8b0149fac1b70943a874c608108a12.jpeg'},\r\n        {id: 3, name: 'Dasha', foto: 'https://avatarko.ru/img/kartinka/10/zhivotnye_enot_yazyk_9275.jpg'},\r\n        {id: 4, name: 'Yulia', foto: 'https://kot-pes.com/wp-content/uploads/2019/10/post_5da84ea695ff8.jpeg'},\r\n        {id: 5, name: 'Roman', foto: 'https://avatars.mds.yandex.net/get-zen_doc/1925930/pub_5cee22a63f1e7700b0ea7316_5cee24751cd66200af7a3252/scale_1200'\r\n        },\r\n        {id: 6, name: 'Irina', foto: 'https://funik.ru/wp-content/uploads/2018/11/f3965b72a5e12aa933a0.jpg'}\r\n    ]\r\n}\r\ntype InitialStateType = {\r\n    dialogs: ConversationType[]\r\n}\r\n\r\n\r\nexport const dialogsReducer = (state:InitialStateType=initialState,action:DialogType)=> {\r\n    switch (action.type){\r\n\r\n    }\r\n    return state\r\n}\r\nexport const newDialogAC= ()=> {\r\n    return {\r\n        type: 'DIALOG-MESSAGE'\r\n    } as const\r\n}\r\nexport type DialogType = ReturnType<typeof newDialogAC >","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {ProfileActionsType, profileReducer} from \"./profileReducer\";\r\nimport {messageReducer, NewMessageActionType} from \"./messageReducer\";\r\nimport {dialogsReducer, DialogType} from \"./dialogsReducer\";\r\nimport {UsersActionsType, usersReducer} from \"./usersReducer\";\r\nimport {authReducer, LoginActionsType} from \"./authReducer\";\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport {ActionsType, appReducer} from \"./appReducer\";\r\n\r\nexport let rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagePage: messageReducer,\r\n    dialogsPage: dialogsReducer,\r\n    users: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\nexport let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nexport type AppActionsType = UsersActionsType | LoginActionsType\r\n    | ProfileActionsType | DialogType | NewMessageActionType |ActionsType\r\n\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType,AppStateType,unknown,AppActionsType>\r\n//@ts-ignore\r\nwindow.store = store\r\n// export type StoreType = typeof store;\r\n// export type StateType = ReturnType<typeof store.getState>;","import React, { ComponentType } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {AppStateType} from \"../Redux/reduxStore\";\r\nimport {Preloader} from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\ntype mapStateToPropsType={\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps=(state:AppStateType):mapStateToPropsType=> {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport function withSuspense<T>(Component: ComponentType<T>) {\r\n\r\n    // const RedirectComponent = (props:mapStateToPropsType)=>{\r\n    //\r\n    //     let{isAuth, ...restProps}=props\r\n    //     if (!isAuth) return <Redirect to={'/login'}/>\r\n    //     return <Component  {...restProps as T}/>\r\n    // }\r\n    //\r\n    // let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\r\n    return (props:any)=>{\r\n        return<React.Suspense fallback={<Preloader loading={true}/>}>\r\n            <Component{...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import React, {ComponentType, useEffect} from 'react';\nimport './App.css';\nimport {Nav} from \"./components/Nav/Nav\";\n// import {Conversation} from \"./components/Conversation/Conversation\";\nimport {BrowserRouter, HashRouter, Route} from \"react-router-dom\";\nimport {Friends} from \"./components/Friends/Friends\";\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport Login from \"./components/LoginComponent/Login\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport {Provider, useDispatch, useSelector} from 'react-redux';\nimport {initializeTC} from \"./Redux/appReducer\";\nimport {AppStateType, store} from \"./Redux/reduxStore\";\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\nimport {withSuspense} from \"./Hoc/withSuspense\";\n\n\nconst Conversation = React.lazy(()=> import ('./components/Conversation/Conversation')\n    .then(({Conversation})=>({default:Conversation}))\n);\n\nconst ProfileContainer = React.lazy(()=> import ('./components/Profile/ProfileContainer')\n   );\n\n\nexport function AppContainer() {\n    let initialized = useSelector<AppStateType>(state => state.app.initialized)\n\n\n\n    const dispatch = useDispatch()\n    useEffect(() => {\n        dispatch(initializeTC())\n    }, [])\n\n    if (!initialized) {\n                return <Preloader loading={true}/>}\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Nav />\n                <div className='app-wrapper-content '>\n\n                    <Route path='/conversation' render={withSuspense(Conversation)\n                        // () => {\n                            //     return <React.Suspense fallback={<Preloader loading={true}/>}>\n                            //         <Conversation/>\n                            //     </React.Suspense>\n                            // }\n                        // }\n                    }/>\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)\n\n                        // () => {\n                        // return <React.Suspense fallback={<Preloader loading={true}/>}>\n                        //     <ProfileContainer/>\n                        // </React.Suspense>\n                    }/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                    <Route path='/news'/>\n                    <Route path='/music'/>\n                    <Route path='/settings'/>\n                    <Route path='/friends' render={() => <Friends />}/>\n                </div>\n            </div>\n\n        );\n    }\n\n\nexport const SamuraiJSApp=()=>{\n    return  <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\n\n","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport {SamuraiJSApp} from \"./App\";\n\n\nReactDOM.render(\n    <SamuraiJSApp/>,\n    document.getElementById('root')\n)\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2RI-S\",\"error\":\"FormControls_error__2ky5Y\",\"formSummaryError\":\"FormControls_formSummaryError__2LMYO\"};","export default __webpack_public_path__ + \"static/media/1488.372b42cf.gif\";","import React from 'react';\r\nimport preloader from \"../../../assets/images/1488.gif\";\r\n\r\ntype PreloaderType ={\r\n    loading: boolean\r\n}\r\n\r\n\r\nexport const Preloader=(props: PreloaderType)=>{\r\n    return <div>\r\n        {props.loading ? <img src={preloader}/> : null}\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3WDAs\",\"paginator\":\"Paginator_paginator__3gtOM\",\"pageNumber\":\"Paginator_pageNumber__tG7XG\",\"arrowLeft\":\"Paginator_arrowLeft__3ssW_\",\"arrowRight\":\"Paginator_arrowRight__11rSl\"};","import React from 'react';\r\nimport styles from './FormControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nexport const Textarea = ({...props})=> {\r\n    let input = props.input\r\n    let meta = props.meta\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error: '')} >\r\n            <div>\r\n                <textarea {...props} {...input} {...meta}/>\r\n            </div>\r\n            { hasError && <span> {meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Input = ({...props})=> {\r\n\r\n    let input = props.input\r\n    let meta = props.meta\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error: '')} >\r\n            <div>\r\n                <input {...props} {...input} {...meta}/>\r\n            </div>\r\n            { hasError && <span> {meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const CreateField = (placeholder: string, name:string,\r\n                            validate:[requiredField:any,\r\n                                maxLength30:any],component:any)=>\r\n    <Field placeholder={placeholder} name={name}\r\n                                       validate={[validate]}\r\n                                       component={component}/>","import React from 'react';\r\n\r\n\r\nexport const requiredField = (value:string)=> {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator =(maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1R5p9\",\"loginBlock\":\"Header_loginBlock__3aLlC\",\"LogOut\":\"Header_LogOut__3OrvJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logIn\":\"Login_logIn__17p8O\",\"input\":\"Login_input__2TP4A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"users_photo__2TfII\",\"Follow\":\"users_Follow__2pSpf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"friends_avatar__1rLW5\"};","import React from 'react';\r\nimport {ProfileType} from \"./State\";\r\nimport {AppThunk} from \"./reduxStore\";\r\nimport {profileAPI} from \"../API/Api\";\r\n\r\n\r\nlet initialState: InitialStateType = {\r\n    posts: [\r\n        {id: 1, message: 'Hello! How`s life?', like: 22},\r\n        {id: 2, message: 'Hey hey! How`re you things?', like: 15},\r\n        {id: 3, message: 'Hey buddy! How`re you?', like: 35},\r\n        {id: 4, message: 'Hey there! Take it easy?', like: 77},\r\n    ],\r\n    profile: {\r\n        userId: 19583,\r\n        lookingForAJob: true,\r\n        lookingForAJobDescription: 'it will be fun',\r\n        fullName: 'Potapiсh',\r\n        contacts: {\r\n            github: null,\r\n            vk: null,\r\n            facebook: null,\r\n            instagram: null,\r\n            twitter: null,\r\n            website: null,\r\n            youtube: null,\r\n            mainLink: null,\r\n        },\r\n        photos: {\r\n            small: 'https://avatarko.ru/img/kartinka/7/zhivotnye_sobaka_6243.jpg',\r\n            large: 'https://avatarko.ru/img/kartinka/7/zhivotnye_sobaka_6243.jpg'\r\n        }\r\n    },\r\n    status: '',\r\n    updateStatus: '',\r\n}\r\ntype ContactsType = {\r\n    github: string | null\r\n    vk: string | null\r\n    facebook: string | null\r\n    instagram: string | null\r\n    twitter: string | null\r\n    website: string | null\r\n    youtube: string | null\r\n    mainLink: string | null\r\n}\r\n\r\nexport type NewProfileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n}\r\nexport type InitialStateType = {\r\n    posts: Array<ProfileType>\r\n    profile: NewProfileType | null\r\n    status: string\r\n    updateStatus: string\r\n\r\n\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action: ProfileActionsType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'ADD-POST':\r\n\r\n            let newPost: ProfileType = {\r\n                id: new Date().getTime(),\r\n                message: action.value,\r\n                like: 0,\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts],\r\n\r\n            }\r\n        case 'SET-USER-PROFILE':\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case \"SET-USER-STATUS\":\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case \"DELETE POST\":\r\n            return {\r\n                ...state, posts: state.posts.filter(t => t.id !== action.id)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const changeNewTextAC = (newText: string) => {\r\n    return {\r\n        type: \"CHANGE-NEW-TEXT\",\r\n        newText: newText\r\n    } as const\r\n}\r\n\r\nexport const addPostAC = (value: string) => {\r\n    return {\r\n        type: \"ADD-POST\",\r\n        value: value,\r\n\r\n    } as const\r\n}\r\nexport const setUserProfileAC = (profile: NewProfileType) => {\r\n    return {\r\n        type: 'SET-USER-PROFILE',\r\n        profile: profile\r\n    } as const\r\n}\r\nexport const setStatusAC = (status: string) => {\r\n    return {\r\n        type: 'SET-USER-STATUS',\r\n        status: status\r\n    } as const\r\n}\r\n\r\nexport const deletePostAC = (id: number) => {\r\n    return {\r\n        type: 'DELETE POST',\r\n        id: id\r\n    } as const\r\n}\r\n\r\n\r\ntype ChangeNewTextActionType = ReturnType<typeof changeNewTextAC>\r\ntype SetUserProfileType = ReturnType<typeof setUserProfileAC>\r\ntype GetUserProfileType = ReturnType<typeof setStatusAC>\r\ntype AddPostActionType = ReturnType<typeof addPostAC>\r\ntype DeletePstType = ReturnType<typeof deletePostAC>\r\n\r\nexport type ProfileActionsType = ChangeNewTextActionType | AddPostActionType\r\n    | SetUserProfileType | GetUserProfileType | DeletePstType\r\n\r\nexport const setProfileTC = (userId: string): AppThunk => {\r\n    return (dispatch) => {\r\n        profileAPI.getProfile(userId)\r\n            .then(response => {\r\n                dispatch(setUserProfileAC(response.data))\r\n            })\r\n    }\r\n}\r\nexport const getProfileStatusTC = (userId: string): AppThunk => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatusAC(response.data))\r\n    }\r\n    }\r\n\r\nexport const updateStatusTC = (status: string): AppThunk => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatusAC(status))\r\n        }\r\n    }\r\n}"],"sourceRoot":""}